<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/system.conf/blog/rss.xml" title="System.conf Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/system.conf/blog/atom.xml" title="System.conf Blog Atom Feed"><title data-react-helmet="true">Tá»•ng quan vá» SDN vÃ  VMware NSX-T | System.conf</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scila1996.github.io/system.conf/blog/sdn-nsx-t-introduction"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Tá»•ng quan vá» SDN vÃ  VMware NSX-T | System.conf"><meta data-react-helmet="true" name="description" content="East-West traffic vÃ  North-South traffic"><meta data-react-helmet="true" property="og:description" content="East-West traffic vÃ  North-South traffic"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-09-15T19:01:06.885Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/scila1996"><meta data-react-helmet="true" property="article:tag" content="nsxt,nsx,vmware,sdn,network,virtualization"><link data-react-helmet="true" rel="canonical" href="https://scila1996.github.io/system.conf/blog/sdn-nsx-t-introduction"><link data-react-helmet="true" rel="alternate" href="https://scila1996.github.io/system.conf/blog/sdn-nsx-t-introduction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scila1996.github.io/system.conf/blog/sdn-nsx-t-introduction" hreflang="x-default"><link rel="stylesheet" href="/system.conf/assets/css/styles.9e7bfb73.css">
<link rel="preload" href="/system.conf/assets/js/runtime~main.d3cada47.js" as="script">
<link rel="preload" href="/system.conf/assets/js/main.387993f1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/system.conf/"><img src="https://vmware.github.io/images/vmw_oss.svg" alt="My config" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://vmware.github.io/images/vmw_oss.svg" alt="My config" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">System.conf</b></a><a class="navbar__item navbar__link" href="/system.conf/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/system.conf/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scila1996/system.conf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Tá»•ng quan vá» SDN vÃ  VMware NSX-T</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-09-15T19:01:06.885Z" itemprop="datePublished">September 15, 2021</time> Â· 21 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://github.com/scila1996" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://github.com/scila1996/system.conf/raw/main/static/img/mr-f.jpg" alt="Nguyen Trung"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/scila1996" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nguyen Trung</span></a></div><small class="avatar__subtitle" itemprop="description">System Engineer - currently working at MB SHINSEI</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="east-west-traffic-vÃ -north-south-traffic"></a>East-West traffic vÃ  North-South traffic<a class="hash-link" href="#east-west-traffic-vÃ -north-south-traffic" title="Direct link to heading">#</a></h2><p>Thuáº­t ngá»¯ sá»­ dá»¥ng trong DataCenter, cÃ¡c SDN phÃ¡t triá»ƒn dá»±a vÃ o háº¡ táº§ng DataCenter nÃªn sáº½ sá»­ dá»¥ng cÃ¡c thuáº­t ngá»¯ nÃ y.</p><ul><li><code>East-West</code>: ÄÃ¢y lÃ  traffic náº±m bÃªn trong DataCenter, vÃ­ dá»¥ giá»¯a server vá»›i server.</li><li><code>North-South</code>: ÄÃ¢y lÃ  traffic tá»« client Ä‘áº¿n server hoáº·c tá»« server ra ngoÃ i Internet, bao gá»“m táº¥t cáº£ cÃ¡c káº¿t ná»‘i tá»« DataCenter ra ngoÃ i hoáº·c tá»« ngoÃ i vÃ o trong DataCenter.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="kiáº¿n-trÃºc-máº¡ng-leaf-spine"></a>Kiáº¿n trÃºc máº¡ng Leaf-Spine<a class="hash-link" href="#kiáº¿n-trÃºc-máº¡ng-leaf-spine" title="Direct link to heading">#</a></h2><p><img alt="image" src="/system.conf/assets/images/leaf-spine-topo-6b354a8d5307b9c621dbc27a27fdd52d.png"></p><p>Leaf Switch cung cáº¥p cÃ¡c káº¿t ná»‘i tá»›i cÃ¡c mÃ¡y chá»§, Firewall, Router hoáº·c cÃ¡c thiáº¿t bá»‹ cÃ¢n báº±ng táº£i. CÃ¡c Leaf switch Ä‘Æ°á»£c káº¿t ná»‘i tá»›i táº¥t cáº£ Spine táº¡o thÃ nh mÃ´ hÃ¬nh Full-mesh nhÆ°ng khÃ´ng káº¿t ná»‘i vá»›i nhau (Leaf-Leaf) trá»« khi sá»­ dá»¥ng cÃ¡c cÃ´ng nghá»‡ HA nhÆ° vPC, Stackwise, IRF.</p><p>Spine Switch Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ káº¿t ná»‘i vá»›i táº¥t cáº£ Leaf switch. CÃ¡c Spine switch cÅ©ng khÃ´ng káº¿t ná»‘i vá»›i cÃ¡c Spine switch khÃ¡c Ä‘á»ƒ táº¡o thÃ nh mÃ´ hÃ¬nh cÃ³ cÃ¹ng bÆ°á»›c nháº£y giá»¯a cÃ¡c mÃ¡y chá»§. Äiá»u nÃ y mang láº¡i Ä‘á»™ trá»… cÃ³ thá»ƒ dá»± Ä‘oÃ¡n vÃ  bÄƒng thÃ´ng cao giá»¯a cÃ¡c mÃ¡y chá»§. LiÃªn káº¿t giá»¯a Leaf vÃ  Spine cÃ³ thá»ƒ lÃ  liÃªn káº¿t Layer 2 hoáº·c Layer 3 sá»­ dá»¥ng cÃ¡c giao thá»©c Ä‘á»‹nh tuyáº¿n nhÆ° iBGP.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="thiáº¿t-káº¿-háº¡-táº§ng-network"></a>Thiáº¿t káº¿ háº¡ táº§ng Network<a class="hash-link" href="#thiáº¿t-káº¿-háº¡-táº§ng-network" title="Direct link to heading">#</a></h2><p>Dá»±a theo tÃ i liá»‡u cá»§a VMware, VMware Validated Design</p><p><a href="https://docs.vmware.com/en/VMware-Validated-Design/6.2/sddc-architecture-and-design-for-the-management-domain/GUID-C924E896-D9C4-47BF-91D5-DF72605EF63E.html" target="_blank" rel="noopener noreferrer">https://docs.vmware.com/en/VMware-Validated-Design/6.2/sddc-architecture-and-design-for-the-management-domain/GUID-C924E896-D9C4-47BF-91D5-DF72605EF63E.html</a></p><p>TÃ i liá»‡u nÃ y mÃ´ táº£ vá» viá»‡c thiáº¿t káº¿ há»‡ thá»‘ng VMware sá»­ dá»¥ng NSX-T. MÃ´ táº£ tá»•ng quan vá» kiáº¿n trÃºc á»©ng dá»¥ng mÃ´ hÃ¬nh vÃ­ dá»¥ CAA (Core-Aggregation-Access), Leaf-Spine. HÆ°á»›ng dáº«n mÃ´ táº£ káº¿t ná»‘i, táº¡o vÃ  chuáº©n bá»‹ cÃ¡c VLAN, Subnets á»Ÿ pháº§n Underlay.</p><p>Danh sÃ¡ch cÃ¡c chá»©c nÄƒng cáº§n thiáº¿t trong háº¡ táº§ng NSX-T. Táº¡o VLAN vÃ  tá»«ng Subnets tÆ°Æ¡ng á»©ng vá»›i tá»«ng chá»©c nÄƒng</p><ul><li><code>Management</code></li><li><code>vSphere vMotion</code></li><li><code>vSAN</code></li><li><code>Host Overlay</code></li><li><code>NFS</code></li><li><code>Uplink01</code></li><li><code>Uplink02</code></li><li><del><code>Edge Overlay</code></del></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="khÃ´ng-gian-Ä‘á»‹a-chá»‰-máº¡ng-dÃ nh-riÃªng-reserved-ip-addresses"></a>KhÃ´ng gian Ä‘á»‹a chá»‰ máº¡ng dÃ nh riÃªng (Reserved IP addresses)<a class="hash-link" href="#khÃ´ng-gian-Ä‘á»‹a-chá»‰-máº¡ng-dÃ nh-riÃªng-reserved-ip-addresses" title="Direct link to heading">#</a></h2><p>LÃ  cÃ¡c dáº£i máº¡ng Ä‘áº·c biá»‡t vÃ  khÃ´ng Ä‘Æ°á»£c Ä‘á»‹nh tuyáº¿n trÃªn Internet, danh sÃ¡ch theo trang chá»§ cá»§a IANA á»Ÿ Ä‘Ã¢y.</p><p><a href="https://www.iana.org/assignments/iana-ipv4-special-registry/iana-ipv4-special-registry.xhtml" target="_blank" rel="noopener noreferrer">https://www.iana.org/assignments/iana-ipv4-special-registry/iana-ipv4-special-registry.xhtml</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="100640010"></a>100.64.0.0/10<a class="hash-link" href="#100640010" title="Direct link to heading">#</a></h3><p>Trong nÄƒm 2012, IANA Ä‘Ã£ phÃ¢n bá»• 4 triá»‡u Ä‘á»‹a chá»‰ 100.64.0.0/10 Ä‘á»ƒ sá»­ dá»¥ng trong mÃ´i trÆ°á»ng NAT giá»¯a cÃ¡c thiáº¿t bá»‹ Ä‘á»‹nh tuyáº¿n cá»§a nhÃ  máº¡ng vá»›i vai trÃ² nhÃ  cung cáº¥p dá»‹ch vá»¥.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="carrier-grade-nat-cgnat"></a>Carrier-grade NAT (CGNAT)<a class="hash-link" href="#carrier-grade-nat-cgnat" title="Direct link to heading">#</a></h4><p>CÃ´ng nghá»‡ NAT Ä‘Æ°á»£c sá»­ dá»¥ng trong ISP</p><p><a href="https://datatracker.ietf.org/doc/html/rfc6598" target="_blank" rel="noopener noreferrer">https://datatracker.ietf.org/doc/html/rfc6598</a></p><p>LÃ  dáº£i Ä‘á»‹a chá»‰ máº¡ng private giá»‘ng nhÆ° RFC1918 nhÆ°ng Ä‘Æ°á»£c dÃ nh riÃªng cho viá»‡c NAT giá»¯a cÃ¡c nhÃ  cung cáº¥p Internet. TrÃªn Internet, viá»‡c NAT khÃ´ng giá»‘ng nhÆ° á»Ÿ dÆ°á»›i háº¡ táº§ng local, ISP khÃ´ng sá»­ dá»¥ng cÃ¡c dáº£i máº¡ng Private RFC1918. há» dÃ¹ng dáº£i máº¡ng dÃ nh riÃªng chá»‰ cho viá»‡c NAT giá»¯a cÃ¡c thiáº¿t bá»‹ NAT, cÃ¡c thiáº¿t bá»‹ nÃ y pháº£i há»— trá»£ CGN. Dáº£i máº¡ng nÃ y khÃ´ng Ä‘Æ°á»£c quáº£ng bÃ¡ hoáº·c route ra ngoÃ i Internet vÃ  cÅ©ng khÃ´ng dÃ¹ng Ä‘Æ°á»£c trong Internal, nÃ³ chá»‰ dÃ¹ng cho viá»‡c NAT giá»¯a cÃ¡c Router trong vÃ  ngoÃ i máº¡ng</p><p>Dáº£i Ä‘á»‹a chá»‰ nÃ y sáº½ Ä‘Æ°á»£c ngáº§m sá»­ dá»¥ng trong viá»‡c giao tiáº¿p giá»¯a Gateway TIER-0 vÃ  TIER-1 trong NSX-T</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="2240004"></a>224.0.0.0/4<a class="hash-link" href="#2240004" title="Direct link to heading">#</a></h3><p>ÄÃ¢y lÃ  dáº£i máº¡ng Multicast, sá»­ dá»¥ng nhiá»u trong giao thá»©c VRRP, cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n OSPF hoáº·c IGMP</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="1692540016"></a>169.254.0.0/16<a class="hash-link" href="#1692540016" title="Direct link to heading">#</a></h3><p>Dáº£i máº¡ng link-local phiÃªn báº£n cho IPv4. PhÃ­a dÆ°á»›i ná»n network, Ä‘á»‹a chá»‰ nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cung cáº¥p cÃ¡c dá»‹ch vá»¥ nhÆ° Time, DNS Server. VÃ­ dá»¥ nhÆ° AWS EC2 sá»­ dá»¥ng cÃ¡c Ä‘á»‹a chá»‰ sau</p><ul><li><code>NTP</code>: <em>169.254.169.123</em></li><li><code>DNS</code>: <em>169.254.169.253</em></li></ul><p>Trong NSX-T chÃºng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m Transit Link giá»¯a traffic DR/SR trong cÃ¹ng má»™t Gateway</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="routing-architecture"></a>Routing Architecture<a class="hash-link" href="#routing-architecture" title="Direct link to heading">#</a></h2><p>Trong NSX-T cÃ³ 2 loáº¡i Gateway lÃ  Tier-0 (north-south traffic) vÃ  Tier-1 (east-west traffic).</p><p>Dá»±a vÃ o khÃ¡i niá»‡m cÆ¡ báº£n cá»§a DataCenter, ta cÃ³ 2 loáº¡i traffic lÃ </p><ul><li><code>North-South traffic</code>: Traffic Ä‘i ra ngoÃ i cluster trÃªn DataCenter</li><li><code>East-West traffic</code>: Traffic ná»™i bá»™ bÃªn trong giá»¯a cÃ¡c Node vá»›i nhau</li></ul><p>Äá»ƒ Routing trong vÃ  ngoÃ i há»‡ thá»‘ng máº¡ng, ta sáº½ cÃ³ 2 mÃ´ hÃ¬nh lÃ  Single-Tier vÃ  Multi-Tier khi cáº¥u hÃ¬nh NSX-T.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-routing-architecture-a1c3d8ab8bd92cddc846d44d760ddac5.png"></p><p>Trong NSX-T cÃ³ 2 loáº¡i gateway tÆ°Æ¡ng á»©ng lÃ  Tier-0 Gateway vÃ  Tier-1 Gateway, vá»›i 2 loáº¡i gateway nÃ y ta sáº½ cÃ³ mÃ´ hÃ¬nh routing giá»¯a Cluster vá»›i há»‡ thá»‘ng bÃªn ngoÃ i. CÃ¡c gateway hoáº¡t Ä‘á»™ng giá»¯a vÃ o cÃ¡c Edge Node, vá» cÆ¡ báº£n nÃ³ giá»‘ng nhÆ° má»™t thiáº¿t bá»‹ Layer 3 nhÆ° Switch Layer 3 cÃ³ kháº£ nÄƒng Routing, nhÆ°ng vÃ¬ Gateway trong NSX-T lÃ  SDN nÃªn nÃ³ há»— trá»£ Ä‘á»‹nh tuyáº¿n Ä‘Æ°á»£c ráº¥t nhiá»u giao thá»©c.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="single-tier-routing"></a>Single Tier Routing<a class="hash-link" href="#single-tier-routing" title="Direct link to heading">#</a></h3><ul><li><p>Chá»‰ sá»­ dá»¥ng Tier-0 gateway, gateway nÃ y sáº½ káº¿t ná»‘i táº¥t cáº£ cÃ¡c VM trong Cluster, Tier-0 cÃ³ kháº£ nÄƒng káº¿t ná»‘i vá»›i Uplink Ä‘i ra ngoÃ i Cluster. MÃ´ hÃ¬nh nÃ y ráº¥t Ä‘Æ¡n giáº£n, má»™t gateway dÃ¹ng cho táº¥t cáº£ cÃ¡c VM.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-single-tier-c95d65fe2b13894a3d00965743bfa767.png"></p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="multi-tier-routing"></a>Multi Tier Routing<a class="hash-link" href="#multi-tier-routing" title="Direct link to heading">#</a></h3><ul><li><p>Viá»‡c chá»‰ sá»­ dá»¥ng Tier-0 thÃ¬ táº¥t cáº£ cÃ¡c VM Ä‘á»u cÃ³ kháº£ nÄƒng Ä‘i Ä‘Æ°á»£c lÆ°u lÆ°á»£ng ra ngoÃ i Cluster, nhÆ°ng náº¿u ta chá»‰ cÃ³ cÃ¡c VM mÃ  chá»‰ giao tiáº¿p ná»™i bá»™ bÃªn trong Cluster mÃ  khÃ´ng muá»‘n cho ra ngoÃ i thÃ¬ sao ? Tier-0 váº«n lÃ m Ä‘Æ°á»£c báº±ng cÃ¡ch khÃ´ng NAT dáº£i Ä‘Ã³ ra ngoÃ i qua Uplink lÃ  Ä‘Æ°á»£c, tuy nhiÃªn vá»›i concepts chuáº©n cá»§a viá»‡c sinh ra Tier-0 vÃ  Tier-1, muá»‘n Ä‘á»™c láº­p hoÃ n toÃ n vá» máº·t secure, ta sáº½ cÃ³ 1 loáº¡i gateway gá»i lÃ  Tier-1. Loáº¡i gateway nÃ y khÃ´ng Ä‘Æ°á»£c cáº¥u hÃ¬nh Uplink ra ngoÃ i vÃ  traffic sáº½ chá»‰ ná»™i bá»™ trong Cluster, chÃºng cÃ³ thá»ƒ cÃ³ khÃ¡c vÃ¹ng máº¡ng nhÆ°ng váº«n Routing Ä‘Æ°á»£c chá»‰ bÃªn trong vá»›i nhau. Tier-1 tuy lÃ  gateway ná»™i bá»™ nhÆ°ng váº«n cÃ³ trÆ°á»ng há»£p cáº§n cho cÃ¡c VM ná»‘i vÃ o Tier-1 Ä‘Æ°á»£c Ä‘i ra ngoÃ i Cluster. VÃ  ta sáº½ cáº¥u hÃ¬nh thÃªm Tier-1 ná»‘i tá»›i Tier-0 qua CGNAT. ÄÃ¢y lÃ  má»™t ká»¹ thuáº­t NAT giá»¯a cÃ¡c Router trong ISP (nhÃ  cung cáº¥p dá»‹ch vá»¥ máº¡ng), Ä‘Æ°á»£c á»©ng dá»¥ng trong NSX-T.</p></li><li><p>CÃ¡c VM káº¿t ná»‘i tá»›i Gateway khÃ¡c nhau hoáº·c khÃ´ng cÃ¹ng Gateway nÃ y thÃ¬ khÃ´ng thá»ƒ nÃ o giao tiáº¿p Ä‘Æ°á»£c vá»›i nhau, phÃ¹ há»£p vá»›i há»‡ thá»‘ng kiá»ƒu Multi-Tenant hoáº·c muá»‘n phÃ¢n chia Network má»©c Ä‘á»™ cao giá»¯a cÃ¡c VM.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-multi-tier-d3afb5396b17c4556abf629f2fc9f832.png"></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="transport-zones"></a>Transport Zones<a class="hash-link" href="#transport-zones" title="Direct link to heading">#</a></h2><p>Má»™t transport zone Ä‘Æ°á»£c táº¡o ra sáº½ thiáº¿t láº­p má»™t vÃ²ng biÃªn máº¡ng. Chá»‰ cÃ³ cÃ¡c Node, cÃ¡c Edge náº±m trong cÃ¹ng má»™t zone má»›i cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c Logical Switch (segments) cá»§a nhau.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-transport-zone-3e81009ea0094b137a24c6920a795532.png"></p><p>Transport Zone Ä‘Æ°á»£c táº¡o ra nháº±m má»¥c Ä‘Ã­ch Ä‘á»ƒ VM nhÃ¬n tháº¥y nhau trong Transport Zone Ä‘Ã³. VÃ­ dá»¥ ta cÃ³ 3 Cluster</p><ul><li>Cluster A<ul><li>Node A-0 (zone VNPT)</li><li>Node A-1 (zone VNPT)</li></ul></li><li>Cluster B<ul><li>Node B-0  (zone VNPT)</li></ul></li><li>Cluster C<ul><li>Node C-0 (zone Viettel)</li><li>Node C-1 (zone VNPT)</li></ul></li><li>Cluster D<ul><li>Node D-0 (zone Viettel)</li><li>Node D-1</li><li>Node D-2</li></ul></li></ul><p>Chá»‰ cÃ¡c VM trong node <code>A-0</code>, <code>A-1</code>, <code>B-0</code>, <code>C-1</code> thuá»™c <code>zone VNPT</code> má»›i cÃ³ thá»ƒ nhÃ¬n tháº¥y PortGroup (segments) trong zone VNPT.</p><p>Chá»‰ cÃ¡c VM trong node <code>C-0</code>, <code>D-0</code> má»›i cÃ³ thá»ƒ nhÃ¬n tháº¥y PortGroup (segments) trong zone Viettel.</p><p>CÃ¡c VM á»Ÿ cÃ¡c node thuá»™c zone nÃ o sáº½ chá»‰ nhÃ¬n tháº¥y PortGroup cá»§a zone Ä‘Ã³ vÃ  khÃ´ng nhÃ¬n tháº¥y hoáº·c khÃ´ng thá»ƒ gÃ¡n sang PortGroup thuá»™c zone khÃ¡c. NhÆ° vÃ­ dá»¥ trÃªn, máº·c dÃ¹ <code>Cluster C</code> cÃ³ 2 node trong cÃ¹ng má»™t Cluster, nhÆ°ng thuá»™c Zone khÃ¡c nhau nÃªn cáº£ 2 Node Ä‘Ã³ sáº½ khÃ´ng tháº¥y PortGroup thuá»™c Zone cá»§a nhau. Máº·c dÃ¹ chÃºng cÃ³ cÃ¹ng VDS luÃ´n nhÆ°ng khÃ¡c Zone nÃªn sáº½ khÃ´ng nhÃ¬n tháº¥y nhau Ä‘Æ°á»£c.</p><p>CÃ³ 2 loáº¡i Transport Zone. Overlay vÃ  VLAN</p><ul><li><code>Overlay</code>: sáº½ dÃ¹ng cho káº¿t ná»‘i ná»™i bá»™ bÃªn trong giá»¯a cÃ¡c node, NSX-T sáº½ sá»­ dá»¥ng giao thá»©c GENEVE.</li><li><code>VLAN</code>: Sá»­ dá»¥ng cho Underlay Ä‘á»ƒ káº¿t ná»‘i tháº³ng vá»›i káº¿t ná»‘i VLAN ngoÃ i Host. Loáº¡i nÃ y thÆ°á»ng sá»­ dá»¥ng dÃ¹ng káº¿t ná»‘i North-South tá»« Uplink cá»§a NSX-T Edge tá»›i háº¡ táº§ng váº­t lÃ½.</li></ul><p>Thuá»™c tÃ­nh cá»§a Transport Zone</p><ol><li>Má»™t Transport Zone cÃ³ thá»ƒ sá»­ dá»¥ng cho táº¥t cáº£ cÃ¡c loáº¡i Transport Node (ESXi, KVM, Bare-metal server, NSX-Edge)</li><li>CÃ³ 2 loáº¡i Transport Zone lÃ  (VLAN hoáº·c Overlay)</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="uplink-profile"></a>Uplink profile<a class="hash-link" href="#uplink-profile" title="Direct link to heading">#</a></h2><p>CÃ¡c Nodes muá»‘n giao tiáº¿p vá»›i cÃ¡c Node khÃ¡c sáº½ pháº£i cáº¥u hÃ¬nh Uplink. Uplink nÃ y thÆ°á»ng lÃ  cÃ¡c Port váº­t lÃ½ trÃªn cÃ¡c Node. Cáº¥u hÃ¬nh Uplink sáº½ chá»n cÃ¡c Port, cáº¥u hÃ¬nh LAGs, Teaming giá»‘ng trÃªn VDS.</p><p>Uplink trong NSX-T cÃ³ 1 tham sá»‘ gá»i lÃ  Transport VLAN. Network mÃ  sá»­ dá»¥ng Transport Zone thuá»™c kiá»ƒu Overlay thÃ¬ nÃ³ sáº½ pháº£i Ä‘i qua má»™t VLAN gá»i lÃ  Transport VLAN</p><p>Transport Zones thuá»™c loáº¡i Overlay vÃ  Uplink cÃ³ tham sá»‘ Transport VLAN sáº½ káº¿t há»£p vá»›i nhau Ä‘á»ƒ táº¡o ra 1 Ä‘Æ°á»ng Overlay. LÆ°u lÆ°á»£ng cá»§a toÃ n bá»™ cÃ¡c VM bÃªn trong má»™t Zones thuá»™c loáº¡i Overlay sáº½ Ä‘i qua VLAN nÃ y, VLAN cáº¥u hÃ¬nh trÃªn Uplink sáº½ chá»n Port vÃ  Teaming policy, giá»‘ng vá»›i Uplink trong VDS</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="overlay-lÃ -gÃ¬"></a>Overlay lÃ  gÃ¬<a class="hash-link" href="#overlay-lÃ -gÃ¬" title="Direct link to heading">#</a></h2><p>Overlay network lÃ  1 concepts nháº±m má»¥c Ä‘Ã­ch Ä‘Ã³ng gÃ³i vÃ  váº­n chuyá»ƒn gÃ³i tin tá»« Host nÃ y sang Host khÃ¡c. Overlay Network mang thÃ´ng tin cá»§a Network tá»« Node nÃ y Ä‘i sang Node khÃ¡c. VÃ­ dá»¥</p><ul><li>Node: A<ul><li>VM: A-0 (VNI 71010)</li><li>VM: A-1 (VNI 71020)</li></ul></li><li>Node: B<ul><li>VM: B-0 (VNI 72010)</li><li>VM: B-1 (VNI 72020)</li></ul></li><li>Node: C<ul><li>VM: C-0 (VNI 73010)</li><li>VM: C-1 (VNI 73020)</li><li>VM: C-2 (VNI 73030)</li></ul></li></ul><p>Má»—i node sáº½ chá»‰ cÃ³ 1 port váº­t lÃ½, khi má»™t VM tá»« node nÃ y Ä‘i sang node khÃ¡c, gÃ³i tin sáº½ Ä‘Æ°á»£c Ä‘Ã³ng trong Overlay vÃ  gá»­i giá»¯a cÃ¡c Node, vá» lÃ½ thuyáº¿t thÃ¬ chÃºng lÃ  thÃ´ng suá»‘t vá»›i nhau, vÃ­ dá»¥ cÃ¡c VM cÃ³ VNI (ID cá»§a VXLAN) lÃ  71000 cÃ³ cÃ¹ng dáº£i vá»›i nhau sáº½ nhÃ¬n tháº¥y nhau 1 cÃ¡ch trong suá»‘t, nhÆ°ng thá»±c cháº¥t chÃºng Ä‘i trÃªn má»™t Ä‘Æ°á»ng váº­t lÃ½ gá»i lÃ  Overlay vÃ  Ä‘Æ°á»£c váº­n chuyá»ƒn xuá»‘ng dÆ°á»›i VM tÆ°Æ¡ng á»©ng</p><p><img alt="image" src="/system.conf/assets/images/overlay-6d8a734e03ccbe86b173a7f08931c3d8.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="giao-thá»©c-geneve"></a>Giao thá»©c GENEVE<a class="hash-link" href="#giao-thá»©c-geneve" title="Direct link to heading">#</a></h3><p>Giao thá»©c cung cáº¥p táº§ng network Overlay. Äáº§u tiÃªn há»‡ thá»‘ng sáº½ táº¡o ra cÃ¡c máº¡ng Logical Ä‘á»ƒ cÃ´ láº­p tÃ i nguyÃªn Network, sá»­ dá»¥ng giao thá»©c Geneve, lá»›p nÃ y sáº½ lÃ  trá»«u tÆ°á»£ng giá»¯a cÃ¡c Node, gÃ³i tin Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i qua NIC. Geneve hoáº¡t Ä‘á»™ng báº±ng cÃ¡ch táº¡o Layer 2 Logical Network sau Ä‘Ã³ Ä‘Ã³ng gÃ³i qua UDP Layer 3 Ä‘á»ƒ gá»­i Ä‘i giá»¯a cÃ¡c Hosts. Theo tÃ i liá»‡u cá»§a RFC, má»¥c Ä‘Ã­ch thiáº¿t káº¿ ra GENEVE vÃ¬ cÃ¡c vendor vá» network phÃ¡t triá»ƒn nhiá»u giao thá»©c Overlay khÃ¡c nhau, trong Ä‘Ã³ cÃ³ VXLAN vÃ  NVGRE, chÃºng sá»­ dá»¥ng format gáº§n giá»‘ng nhau vá»›i concepts chÃ­nh lÃ  dÃ¹ng 24 bit lÃ m NI (network identifier)</p><p><img alt="image" src="/system.conf/assets/images/geneve-b6ce979e5373edb19b1655edf91f598a.png"></p><p>GENEVE sáº½ thá»±c hiá»‡n implement cÃ¡c giao thá»©c nÃ y, vá» máº·t thiáº¿t káº¿, nÃ³ táº¡o ra má»™t giao thá»©c má»›i lÃ  GENEVE giá»‘ng vá»›i cÃ¡c giao thá»©c trÃªn. NhÆ°ng trong Header sáº½ chá»©a OPTIONAL, Náº¿u 2 thiáº¿t bá»‹ cÃ³ há»— trá»£ Offload gÃ³i tin trÃªn thiáº¿t bá»‹ pháº§n cá»©ng (Hardward Offload) VXLAN hoáº·c NVGRE hoáº·c giao thá»©c nhÆ° báº£ng trÃªn thÃ¬ GENEVE cÃ³ thá»ƒ truyá»n packet theo Ä‘Ãºng giao thá»©c cá»§a Offload Ä‘Ã³, vÃ­ dá»¥ VXLAN, cÃ²n náº¿u thiáº¿t bá»‹ khÃ´ng há»— trá»£ thÃ¬ nÃ³ váº«n cÃ³ thá»ƒ truyá»n data vÃ  tá»± Offload khÃ´ng thÃ´ng qua pháº§n cá»©ng</p><p>GÃ³i tin cá»§a VXLAN bÃªn dÆ°á»›i</p><p><img alt="image" src="/system.conf/assets/images/geneve-vxlan-header-3abc082e834c201db223ae7e4c6adddb.png"></p><p>Váº­y Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  cÃ¡c thiáº¿t bá»‹ cÃ³ há»— trá»£ Hardware Offload cá»§a cÃ¡c giao thá»©c trÃªn sáº½ cÃ³ performance tá»‘t hÆ¡n. Nhá»¯ng thiáº¿t bá»‹ khÃ´ng cÃ³ Hardware Offload thÃ¬ váº«n cÃ³ thá»ƒ dÃ¹ng GENEVE Ä‘á»ƒ giao tiáº¿p vÃ  gáº§n nhÆ° lÃ  má»™t giao thá»©c phiÃªn dá»‹ch Ä‘á»©ng á»Ÿ giá»¯a cho cÃ¡c giao thá»©c trÃªn</p><ul><li><code>PowerEdge R750</code><ul><li><code>Interface</code>: <strong>Broadcom NetXtreme E-Series Quad-port 25Gb OCP 3.0 Ethernet Adapter</strong></li></ul></li></ul><p>ÄÃ¢y lÃ  má»™t trong server má»›i vá»›i card há»— trá»£ Hardward Offload VXLAN / NVGRE vÃ  GENEVE</p><p><a href="https://docs.broadcom.com/doc/12395116" target="_blank" rel="noopener noreferrer">https://docs.broadcom.com/doc/12395116</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="n-vds"></a>N-VDS<a class="hash-link" href="#n-vds" title="Direct link to heading">#</a></h2><p>Trong NSX-T thÃ¬ khi cÃ¡c Node join vÃ o cá»¥m thÃ¬ sáº½ Ä‘Æ°á»£c cÃ i Ä‘áº·t má»™t loáº¡i switch áº£o gá»i lÃ  N-VDS, giá»‘ng vá»›i viá»‡c khi join vÃ o vCenter thÃ¬ vCenter sáº½ Ä‘áº©y VDS xuá»‘ng cÃ¡c Host. N-VDS trong NSX-T lÃ  má»™t loáº¡i switch tÆ°Æ¡ng tá»± nhÆ° VDS nhÆ°ng Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i cÃ¡c chá»©c nÄƒng tÆ°Æ¡ng Ä‘Æ°Æ¡ng trong NSX-T, GENEVE Overlay lÃ  má»™t vÃ­ dá»¥.</p><p>Tuy nhiÃªn tá»« cÃ¡c báº£n trÆ°á»›c 3.0. N-VDS Ä‘Æ°á»£c cÃ i riÃªng biá»‡t vá»›i VDS, nghÄ©a lÃ  N-VDS Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi NSX-T Manager vÃ  VDS váº«n thuá»™c quáº£n lÃ½ cá»§a vCenter. Tá»« 3.0 trá»Ÿ Ä‘i thÃ¬ VMware Ä‘Ã£ thiáº¿t káº¿ Ä‘á»ƒ táº­n dá»¥ng VDS báº±ng cÃ¡ch thÃªm má»™t tÃ¹y chá»n lÃ  cÃ i N-VDS trÃªn VDS, tá»©c lÃ  N-VDS váº«n Ä‘Æ°á»£c cÃ i riÃªng nhÆ°ng sáº½ build-on-top cá»§a VDS. Táº­n dá»¥ng Ä‘Æ°á»£c VDS, vá» báº£n cháº¥t chÃºng váº«n riÃªng biá»‡t vá»›i nhau, nhÆ°ng cáº¥u hÃ¬nh láº¡i giÃºp cho chÃºng liÃªn quan vá»›i nhau. Thiáº¿t káº¿ nÃ y giÃºp Ä‘Æ¡n giáº£n hÃ³a viá»‡c cáº¥u hÃ¬nh NSX-T trÃªn VMware vSphere hÆ¡n ráº¥t nhiá»u.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>N-VDS lÃ  má»™t V-Switch Software cá»§a NSX-T Manager xuá»‘ng cÃ¡c Node</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>N-VDS built-on-top VDS chá»‰ hoáº¡t Ä‘á»™ng náº¿u NSX-T lÃ  3.0 vÃ  vSphere VDS lÃ  7.0 trá»Ÿ lÃªn</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="segments-logical-switch"></a>Segments (logical switch)<a class="hash-link" href="#segments-logical-switch" title="Direct link to heading">#</a></h2><p>Má»™t Segments Ä‘Æ°á»£c táº¡o tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c táº¡o PortGroup trÃªn vCenter, nhÆ°ng Segments á»Ÿ NSX-T khÃ´ng chá»‰ táº¡o ra Port, chÃºng táº¡o ra Logical Switch.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-segment-ls-with-vds-2d070906c4a7c156076d00eaa8c6c4ac.png"></p><p>Vá»›i viá»‡c sá»­ dá»¥ng VDS trÃªn vCenter, cÃ¡c PortGroup cÃ¹ng VLAN sáº½ Ä‘á»u thÃ´ng suá»‘t vá»›i nhau, gÃ³i tin thuáº§n tÃºy luÃ´n lÃ  Layer 2 vÃ  Ä‘Æ°á»£c truyá»n tháº³ng tá»›i VM -&gt; VDS -&gt; VM nhÆ° sau.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">|-----------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|      VM 1     |                  VDSwitch                  |      VM 2     |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">| (Port in VDS) | =&gt; | (Port Group) | =&gt; | (Port Group) | =&gt; | (Port in VDS) |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|    (Host A)   |    |   (Host A)   |    |   (Host B)   |    |    (Host B)   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-----------------------------------------------------------------------------</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>TrÃªn NSX thÃ¬ N-VDS sáº½ táº¡o ra logical switch, trÆ°á»›c Ä‘Ã¢y NSX-V gá»i tÃªn lÃ  Logical Switch, nhÆ°ng NSX-T gá»i nÃ³ lÃ  Segments, cÃ³ láº½ viá»‡c nÃ y Ä‘á»ƒ trÃ¡nh bá»‹ hiá»ƒu nháº§m lÃ  sao Ä‘Ã£ cÃ³ N-VDS lÃ  Switch rá»“i thÃ¬ táº¡i sao láº¡i cÃ³ thÃªm má»™t lá»›p Switch ná»¯a ? Thá»±c ra Ä‘Ã¢y khÃ´ng pháº£i lÃ  Switch áº£o náº±m trong N-VDS, nÃ³ lÃ  má»™t cáº¥u hÃ¬nh Ä‘Æ°á»£c phÃ¢n tÃ¡ch gá»i lÃ  Domain giá»‘ng nhÆ° cÃ¡c thiáº¿t bá»‹ máº¡ng khÃ¡c. Tá»« bÃ¢y giá» ta sáº½ gá»i nÃ³ lÃ  Segments, tuy náº±m trong cÃ¹ng má»™t Switch lÃ  V-VDS vÃ  tháº­m chÃ­ cÃ³ thá»ƒ cÃ¹ng Transport Zone, nhÆ°ng giá»¯a cÃ¡c Segments lÃ  Ä‘á»™c láº­p vá»›i nhau. Má»—i má»™t Segments Ä‘Æ°á»£c táº¡o ra sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng gÃ¡n má»™t VNI (Network ID) khÃ¡c nhau, do Ä‘Ã³ cÃ³ thá»ƒ tÃ¡ch Ä‘Æ°á»£c luá»“ng traffic riÃªng biá»‡t giá»¯a cÃ¡c VM giá»‘ng nhÆ° VLAN PortGroup trÃªn VDS, tuy nhiÃªn trong Segments cá»§a NSX-T, ta cÃ²n cÃ³ thá»ƒ cáº¥u hÃ¬nh cÃ¡c chá»©c nÄƒng cá»§a Layer 3 trÃªn Segments nÃ y. TÃ³m láº¡i thÃ¬ N-VDS thá»±c cháº¥t lÃ  V-Switch Layer 3 vÃ  Segments lÃ  má»™t Domain mang cáº¥u hÃ¬nh riÃªng biá»‡t Ä‘Æ°á»£c Apply cÃ¡c chá»©c nÄƒng cá»§a cáº£ Layer 2 vÃ  Layer  3 tá»« N-VDS.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-segment-demo-80fa70739177daafc09c6c2c31b5c496.png"></p><p>Segments mang theo nhiá»u tÃ­nh nÄƒng cá»§a Layer 3 nÃªn cÅ©ng báº£o máº­t hÆ¡n, gÃ³i tin vá»«a giao tiáº¿p Ä‘Æ°á»£c á»Ÿ Layer 2 nhá» vÃ o viá»‡c má»—i Segments cÃ³ má»™t VNI riÃªng biá»‡t, trong trÆ°á»ng há»£p VM cÃ³ cÃ¹ng Segments thÃ¬ chÃºng váº«n cÃ³ thá»ƒ Ä‘Æ°á»£c Apply cÃ¡c Rule á»Ÿ Layer 3.</p><p>VÃ­ dá»¥ cho use-case cá»§a thiáº¿t káº¿ nÃ y Ä‘Ã³ lÃ  khi 2 VM cÃ¹ng Segments, chÃºng cÃ³ thá»ƒ giao tiáº¿p vá»›i nhau khi náº±m cÃ¹ng má»™t Segment, nhÆ°ng náº¿u muá»‘n Ä‘áº·t má»™t Firewall rule á»Ÿ giá»¯a cÃ¡c VM cÃ¹ng má»™t Segments (NSX-T PortGroup), tháº­m chÃ­ cÃ¡c VM nÃ y cÃ¹ng náº±m trÃªn má»™t ESXI node, rule váº«n sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng cho 2 VM nÃ y, rule nÃ y cÃ³ thá»ƒ lÃ  Rule á»Ÿ Layer 2, Rule á»Ÿ Layer 3 theo IP, Rule á»Ÿ Layer 7 theo giao thá»©c á»©ng dá»¥ng. CÃ¡c rule nÃ y thÆ°á»ng lÃ  Stateful nÃªn khÃ¡ dá»… dÃ ng thiáº¿t láº­p vÃ  cÃ i Ä‘áº·t.</p><p><img alt="image" src="/system.conf/assets/images/nsxt-dfw-a8617c7f18d1d63562fb25ad00bb0709.png"></p><ul><li>BÃ i viáº¿t gá»‘c: <a href="https://blogs.vmware.com/networkvirtualization/2016/06/micro-segmentation-defined-nsx-securing-anywhere.html/" target="_blank" rel="noopener noreferrer">https://blogs.vmware.com/networkvirtualization/2016/06/micro-segmentation-defined-nsx-securing-anywhere.html/</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="transport-nodes"></a>Transport Nodes<a class="hash-link" href="#transport-nodes" title="Direct link to heading">#</a></h2><p>Khi táº¥t cáº£ nhá»¯ng Policy á»Ÿ trÃªn Ä‘Ã£ khá»Ÿi táº¡o vÃ  Ä‘á»‹nh nghÄ©a ra. CÃ¡c Node sáº½ pháº£i Ä‘Æ°á»£c apply vÃ o. NSX-T há»— trá»£ ESXI Node vÃ  tháº­m chÃ­ lÃ  cáº£ cÃ¡c há»‡ thá»‘ng áº£o hÃ³a khÃ¡c nhÆ° KVM hoáº·c má»™t node cháº¡y Linux OS nhÆ° CentOS, Ubuntu. Tuy nhiÃªn ta sáº½ chá»‰ nÃ³i vá» hai Transport Node cá»§a VMware chÃ­nh Ä‘Ã³ lÃ </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="vsphere-esxi-node"></a>vSphere ESXi Node<a class="hash-link" href="#vsphere-esxi-node" title="Direct link to heading">#</a></h3><p>á» pháº§n N-VDS thÃ¬ ESXi Node cÃ³ thá»ƒ cáº¥u hÃ¬nh VDS vÃ  N-VDS built-on-top VDS. Má»™t ESXi Node cÃ³ N-VDS cÃ³ nghÄ©a lÃ  nÃ³ Ä‘Ã£ trá»Ÿ thÃ nh má»™t Transport Node vÃ  cÃ³ thá»ƒ nháº­n cÃ¡c chá»©c nÄƒng, cáº¥u hÃ¬nh cá»§a NSX-T. ESXi Node lÃ  Transport Node thÃ¬ sáº½ gá»i lÃ  <code>Host Transport Node</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="nsx-t-edge-node"></a>NSX-T Edge Node<a class="hash-link" href="#nsx-t-edge-node" title="Direct link to heading">#</a></h3><p>Trong Ä‘Ã³ Edge Node Ä‘Ã³ng vai trÃ² gáº§n giá»‘ng nhÆ° má»™t Router Layer 3-7 cáº¥p cao, Edge Node cÅ©ng Ä‘Ã³ng vai trÃ² lÃ m Gateway cho traffic giá»¯a cÃ¡c Cluster hoáº·c traffic Ä‘i ra ngoÃ i. Edge Node cÃ³ thá»ƒ deploy dÆ°á»›i dáº¡ng mÃ¡y áº£o vá»›i 4 sizing nhÆ° sau</p><p><a href="https://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.1/installation/GUID-22F87CA8-01A9-4F2E-B7DB-9350CA60EA4E.html" target="_blank" rel="noopener noreferrer">https://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.1/installation/GUID-22F87CA8-01A9-4F2E-B7DB-9350CA60EA4E.html</a></p><p>Vá»›i má»—i sizing cÃ ng cao thÃ¬ kháº£ nÄƒng chá»‹u táº£i tá»‘t hÆ¡n cÅ©ng nhÆ° cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u tÃ­nh nÄƒng cá»§a NSX-T hÆ¡n.</p><p>Edge Node cÃ³ thá»ƒ cáº¥u hÃ¬nh VLAN Uplink Ä‘i ra ngoÃ i Cluster vÃ  chá»‰ cÃ³ Edge Node má»›i lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, náº¿u khÃ´ng cÃ³ Edge Node thÃ¬ cÃ¡c VM trong cÃ¡c Transport Node khÃ´ng thá»ƒ nÃ o Ä‘i ra ngoÃ i hoáº·c Ä‘i sang Segments khÃ¡c Ä‘Æ°á»£c. Edge Node chá»‰ thá»±c hiá»‡n chá»©c nÄƒng Network Workload, nÃ³ khÃ´ng chá»©a VM gÃ¬ bÃªn trong.</p><blockquote><p><em>Core cá»§a NSX-T sá»­ dá»¥ng Docker vÃ  cÃ´ng nghá»‡ Container</em></p></blockquote><p>NSX-T khi Ä‘Æ°á»£c deploy vÃ  Ä‘Æ°á»£c cÃ i N-VDS cÅ©ng sáº½ trá»Ÿ thÃ nh má»™t Transport Node, gá»i lÃ  <code>Edge Transport  Node</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="logical-router"></a>Logical Router<a class="hash-link" href="#logical-router" title="Direct link to heading">#</a></h2><p>Bao gá»“m Service Router (SR) vÃ  Distributed Routing (DR). Router nÃ y hoáº¡t Ä‘á»™ng náº¿u Node Ä‘Æ°á»£c gáº¯n vÃ o Tier-0/1 Gateway</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="service-router-sr-vÃ -distributed-routing-dr"></a>Service Router (SR) vÃ  Distributed Routing (DR)<a class="hash-link" href="#service-router-sr-vÃ -distributed-routing-dr" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="distributed-routing"></a>Distributed Routing<a class="hash-link" href="#distributed-routing" title="Direct link to heading">#</a></h3><p>DR sáº½ Ä‘Æ°á»£c khá»Ÿi táº¡o vÃ  cháº¡y trÃªn táº¥t cáº£ cÃ¡c Transport Node, Ä‘Ãºng nhÆ° tÃªn gá»i cá»§a nÃ³, Routing giá»¯a cÃ¡c VM khi Ä‘i qua Gateway mÃ  trong cÃ¹ng cÃ¡c Node trong Cluster, nÃ³ sáº½ route Ä‘áº¿n táº¥t cáº£ cÃ¡c Node, trong trÆ°á»ng há»£p ta cÃ³ 2 VM á»Ÿ 2 Segments khÃ¡c nhau, cÃ³ thá»ƒ hiá»ƒu nhÆ° 2 vÃ¹ng máº¡ng khÃ¡c nhau thÃ¬ luá»“ng cá»§a chÃºng Ä‘i nhÆ° sau</p><ul><li><code>Host A</code>: VM 1 (Segment A)</li><li><code>Host B</code>: VM 2 (Segment B)</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">|--------------------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|   VM 1   | =&gt; | Logical Switch | =&gt; | T0-1 Gateway              | =&gt; | Logical Switch | =&gt; |   VM 2   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">| (Host A) |    |    (Host A)    |    |   (Logical Router)        |    |    (Host B)    |    | (Host B) |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|          |    |                |    |     (Distributed Routing) |    |                |    |          |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|--------------------------------------------------------------------------------------------------------</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="service-router"></a>Service Router<a class="hash-link" href="#service-router" title="Direct link to heading">#</a></h3><p>Chá»‹u trÃ¡ch nhiá»‡m thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ sau</p><ol><li>Connectivity to physical infrastructure</li><li>NAT</li><li>DHCP server</li><li>MetaData Proxy</li><li>Edge Firewall</li><li>Load Balancer</li></ol><p>SR hoáº¡t Ä‘á»™ng trong Edge Node khi Edge Node link tá»›i Tier-0 gateway. Chá»§ yáº¿u thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng máº¡ng dáº¡ng statefull nhÆ° trÃªn</p><p><img alt="image" src="/system.conf/assets/images/nsxt-sr-topo-6a6b7ebf7991584d5c6fea5dc68a40e0.png"></p><p>HÃ¬nh trÃªn mÃ´ táº£ vá» SR, sá»­ dá»¥ng NAT ra ngoÃ i Internet qua Edge Node. Edge Node á»Ÿ hÃ¬nh trÃªn Ä‘Æ°á»£c gáº¯n Uplink ná»‘i ra ngoÃ i WAN Internet, trong vÃ­ dá»¥ nÃ y khi Ä‘i ra ngoÃ i Internet ta sáº½ pháº£i NAT, mÃ  má»—i láº§n NAT ra IP Public tá»« IP Private thÃ¬ Ä‘i ra tá»« Ä‘Æ°á»ng nÃ o sáº½ pháº£i Ä‘i vÃ o báº±ng Ä‘Æ°á»ng Ä‘Ã³. Váº­y Service Router lÃ  má»™t use-case nhÆ° vÃ¢y.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor anchor__h6 anchorWithStickyNavbar_31ik" id="káº¿t-há»£p-giá»¯a-sr-vÃ -dr"></a>Káº¿t há»£p giá»¯a SR vÃ  DR<a class="hash-link" href="#káº¿t-há»£p-giá»¯a-sr-vÃ -dr" title="Direct link to heading">#</a></h6><p>á» mÃ´ táº£ vá» SR thÃ¬ SR cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i ra ngoÃ i, nhÆ°ng Ä‘á»ƒ káº¿t ná»‘i Ä‘Æ°á»£c ra ngoÃ i. ChÃºng váº«n pháº£i Ä‘i qua DR.  Trong hÃ¬nh dÆ°á»›i ta tháº¥y 2 VM Web-LS cÃ³ IP lÃ  172.16.10.11 vÃ  172.16.10.12, Ä‘á»ƒ Ä‘i ra Ä‘Æ°á»£c máº¡ng khÃ¡c hay lÃ  ra ngoÃ i thÃ¬ chÃºng pháº£i cÃ³ Gateway IP, Gateway IP nÃ y náº±m trÃªn Logical Router cÃ³ Ä‘á»‹a chá»‰ lÃ  172.16.10.1. Äá»‹a chá»‰ nÃ y chÃ­nh lÃ  DR, trong trÆ°á»ng há»£p káº¿t ná»‘i giá»¯a 2 Segments ná»™i bá»™ thÃ¬ DR thÃ¬ Ä‘á»‹nh tuyáº¿n sang dáº£i máº¡ng á»Ÿ Segments mÃ  DR cÃ³ thá»ƒ Ä‘á»‹nh tuyáº¿n tá»›i, trong hÃ¬nh thÃ¬ ta tháº¥y cÃ³ App-LS cÃ³ IP lÃ  172.16.20.11 vÃ  gateway lÃ  172.16.20.1. Náº¿u Ä‘i tá»« Web-LS (172.16.10.x) tá»›i App-LS (172.16.20.x) thÃ¬ chÃºng Ä‘i nhÆ° sau</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">|----------------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">| Web-LS | =&gt; | Logical Switch | =&gt; | T0-1 Gateway              | =&gt; | Logical Switch | =&gt; | App-LS |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|        |    |                |    |   (Logical Router)        |    |                |    |        |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|        |    |                |    |     (Distributed Routing) |    |                |    |        |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|----------------------------------------------------------------------------------------------------</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Tiáº¿p Ä‘áº¿n lÃ  tá»« Web-LS Ä‘i ra bÃªn ngoÃ i. ChÃ­nh lÃ  cÃ¡i Physical Router kia, chÃºng sáº½ Ä‘i theo flow trÃªn nhÆ°ng pháº£i Ä‘i qua SR tá»« DR. Tá»« DR tá»›i SR, Logical Router sáº½ pháº£i Route qua má»™t Transit link báº±ng viá»‡c sá»­ dá»¥ng má»™t dáº£i IP Linklocal IPv4 lÃ  169.254.0.0/28. Vá» báº£n cháº¥t thÃ¬ SR vÃ  DR cÃ¹ng náº±m trong má»™t Logical Router nÃªn viá»‡c sá»­ dá»¥ng Linklocal IPv4 Ä‘á»ƒ transit giá»¯a 2 loáº¡i Routing nÃ y lÃ  hoÃ n toÃ n há»£p lÃ½</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">|-------------------------------------------------------------------------------------------------</span></span><span class="token-line" style="color:#393A34"><span class="token plain">| Web-LS | =&gt; | Logical Switch | =&gt; | T0-1 Gateway                               |    |          |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|        |    |                |    |   (Logical Router) =======&gt;&gt;&gt;&gt; Transit LS  |    | Physical |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|        |    |                |    |     (Distributed Routing) ==== 169.254.0.1 |    | Router   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|        |    |                |    |     (Service Router)========== 169.254.0.2 | =&gt; | Uplink   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">|-------------------------------------------------------------------------------------------------</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="image" src="/system.conf/assets/images/nsxt-dr-to-sr-efd3a0b240081e402db59274a32c19d2.png"></p><blockquote><p>LÆ°u Ã½, pháº§n nÃ y chá»‰ mÃ´ táº£ vá» Logical Router á»Ÿ bÃªn trong khi gÃ³i tin cháº¡y trong má»™t Gateway, khÃ´ng pháº£i lÃ  giá»¯a T0 vÃ  T1 Gateway</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="edge-bridge"></a>Edge Bridge<a class="hash-link" href="#edge-bridge" title="Direct link to heading">#</a></h2><p>Sá»­ dá»¥ng Ä‘á»ƒ bridge tá»« há»‡ thá»‘ng máº¡ng váº­t lÃ½ hoáº·c bÃªn ngoÃ i háº¡ táº§ng NSX-T trá»±c tiáº¿p qua Layer 2. Use case Ä‘Ã³ lÃ  bridge háº¡ táº§ng ngoÃ i vÃ  háº¡ táº§ng bÃªn trong khi chÃºng cÃ¹ng dáº£i máº¡ng. Xem vÃ­ dá»¥ bÃªn hÃ¬nh dÆ°á»›i .</p><p><img alt="image" src="/system.conf/assets/images/nsxt-edge-bridge-acba9afbce0ff055cc977e8e423ca8a6.png"></p><p>TÃ­nh nÄƒng nÃ y sá»­ dá»¥ng trong Use-case khi há»‡ thá»‘ng máº¡ng cÃ¹ng sá»­ dá»¥ng cáº£ mÃ´ hÃ¬nh VLAN cÅ© truyá»n thá»‘ng káº¿t há»£p vá»›i NSX. VÃ­ dá»¥ cÃ³ 6 VM cháº¡y á»©ng dá»¥ng á»Ÿ há»‡ thá»‘ng máº¡ng X, tiáº¿p Ä‘Ã³ ta cháº¡y áº£o hÃ³a vÃ  Ä‘Æ°a Ä‘Æ°á»£c 3 VM sang áº£o hÃ³a, sau Ä‘Ã³ cho 3 VM nÃ y Ä‘Æ°a vÃ o NSX-T Ä‘á»ƒ cháº¡y Network cá»§a NSX. Tuy nhiÃªn káº¿t ná»‘i cá»§a nhÃ³m 3 VM á»Ÿ háº¡ táº§ng cÅ© vÃ  nhÃ³m 3 VM á»Ÿ NSX khÃ´ng thá»ƒ thay Ä‘á»•i cáº¥u hÃ¬nh bÃªn trong mÃ¡y áº£o vÃ¬ má»™t lÃ½ do nÃ o Ä‘Ã³, nÃªn káº¿t ná»‘i cá»§a chÃºng váº«n lÃ  káº¿t ná»‘i cÅ©, vÃ­ dá»¥ tá»« App káº¿t ná»‘i sang Database cÃ¹ng dáº£i máº¡ng cÅ©, khÃ´ng thá»ƒ thay Ä‘á»•i thay Ä‘á»•i cáº¥u hÃ¬nh nÃ y, pháº£i giá»¯ nguyÃªn. Váº­y ta sáº½ dÃ¹ng Bridge tá»« Edge (vÃ¬ Edge Node má»›i cÃ³ Uplink ra ngoÃ i Ä‘Æ°á»£c), sau Ä‘Ã³ bridge uplink Ä‘Ã³ sang há»‡ thá»‘ng máº¡ng VLAN cÅ©, váº­y lÃ  Edge Node Ä‘Ã³ng vai trÃ² lÃ  thiáº¿t bá»‹ Bridge, 3 VM bÃªn trong NSX cÃ³ thá»ƒ lÃ  báº¥t cá»© Overlay Segment nÃ o, nhÆ°ng Ä‘i qua Bridge cá»§a Edge Node, gÃ³i tin sáº½ Ä‘Æ°á»£c truyá»n qua Layer 2 qua Edge Node vÃ  tá»›i Ä‘Æ°á»£c há»‡ thá»‘ng máº¡ng VLAN cÅ©.</p><p>3 VM á»Ÿ há»‡ thá»‘ng máº¡ng VLAN cÅ© sáº½ chá»‰ giao tiáº¿p Ä‘Æ°á»£c vá»›i VM á»Ÿ nhÃ³m Ä‘Æ°á»£c Bridge trong NSX, máº·c dÃ¹ cÃ¹ng dáº£i máº¡ng vÃ  Ä‘Æ°á»£c Bridge vá»›i nhau qua Edge Node nhÆ°ng 3 VM á»Ÿ ngoÃ i kia khÃ´ng náº±m trong Transport Node cÅ©ng nhÆ° khÃ´ng náº±m trong Transport Zone nÃªn khÃ´ng thá»ƒ giao tiáº¿p Ä‘Æ°á»£c vá»›i cÃ¡c há»‡ thá»‘ng khÃ¡c trong NSX. Tuy nhiÃªn 3 VM á»Ÿ trong náº¿u cÃ³ Route sang cÃ¡c Segments khÃ¡c thÃ¬ chÃºng váº«n giao tiáº¿p Ä‘Æ°á»£c vá»›i nhau, chá»‰ 3 VM á»Ÿ ngoÃ i lÃ  giao tiáº¿p riÃªng biá»‡t vá»›i 3 bÃªn trong NSX.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="cáº¥u-hÃ¬nh-tá»•ng-quan"></a>Cáº¥u hÃ¬nh tá»•ng quan<a class="hash-link" href="#cáº¥u-hÃ¬nh-tá»•ng-quan" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="flow-diagram"></a>Flow Diagram<a class="hash-link" href="#flow-diagram" title="Direct link to heading">#</a></h3><p><img alt="image" src="/system.conf/assets/images/nsxt-config-flow-7f095be758815ca4bcd0dee7e2d5dd28.png"></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/nsxt">nsxt</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/nsx">nsx</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/vmware">vmware</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/sdn">sdn</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/network">network</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/system.conf/blog/tags/virtualization">virtualization</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/scila1996/system.conf/posts/blog/sdn-nsx-t-intro/nsx-t.guid3.101.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#east-west-traffic-vÃ -north-south-traffic" class="table-of-contents__link">East-West traffic vÃ  North-South traffic</a></li><li><a href="#kiáº¿n-trÃºc-máº¡ng-leaf-spine" class="table-of-contents__link">Kiáº¿n trÃºc máº¡ng Leaf-Spine</a></li><li><a href="#thiáº¿t-káº¿-háº¡-táº§ng-network" class="table-of-contents__link">Thiáº¿t káº¿ háº¡ táº§ng Network</a></li><li><a href="#khÃ´ng-gian-Ä‘á»‹a-chá»‰-máº¡ng-dÃ nh-riÃªng-reserved-ip-addresses" class="table-of-contents__link">KhÃ´ng gian Ä‘á»‹a chá»‰ máº¡ng dÃ nh riÃªng (Reserved IP addresses)</a><ul><li><a href="#100640010" class="table-of-contents__link">100.64.0.0/10</a></li><li><a href="#2240004" class="table-of-contents__link">224.0.0.0/4</a></li><li><a href="#1692540016" class="table-of-contents__link">169.254.0.0/16</a></li></ul></li><li><a href="#routing-architecture" class="table-of-contents__link">Routing Architecture</a><ul><li><a href="#single-tier-routing" class="table-of-contents__link">Single Tier Routing</a></li><li><a href="#multi-tier-routing" class="table-of-contents__link">Multi Tier Routing</a></li></ul></li><li><a href="#transport-zones" class="table-of-contents__link">Transport Zones</a></li><li><a href="#uplink-profile" class="table-of-contents__link">Uplink profile</a></li><li><a href="#overlay-lÃ -gÃ¬" class="table-of-contents__link">Overlay lÃ  gÃ¬</a><ul><li><a href="#giao-thá»©c-geneve" class="table-of-contents__link">Giao thá»©c GENEVE</a></li></ul></li><li><a href="#n-vds" class="table-of-contents__link">N-VDS</a></li><li><a href="#segments-logical-switch" class="table-of-contents__link">Segments (logical switch)</a></li><li><a href="#transport-nodes" class="table-of-contents__link">Transport Nodes</a><ul><li><a href="#vsphere-esxi-node" class="table-of-contents__link">vSphere ESXi Node</a></li><li><a href="#nsx-t-edge-node" class="table-of-contents__link">NSX-T Edge Node</a></li></ul></li><li><a href="#logical-router" class="table-of-contents__link">Logical Router</a></li><li><a href="#service-router-sr-vÃ -distributed-routing-dr" class="table-of-contents__link">Service Router (SR) vÃ  Distributed Routing (DR)</a><ul><li><a href="#distributed-routing" class="table-of-contents__link">Distributed Routing</a></li><li><a href="#service-router" class="table-of-contents__link">Service Router</a></li></ul></li><li><a href="#edge-bridge" class="table-of-contents__link">Edge Bridge</a></li><li><a href="#cáº¥u-hÃ¬nh-tá»•ng-quan" class="table-of-contents__link">Cáº¥u hÃ¬nh tá»•ng quan</a><ul><li><a href="#flow-diagram" class="table-of-contents__link">Flow Diagram</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">This page is powered by Docusaurus</div></div></div></footer></div>
<script src="/system.conf/assets/js/runtime~main.d3cada47.js"></script>
<script src="/system.conf/assets/js/main.387993f1.js"></script>
</body>
</html>